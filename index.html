<html style="margin: 0px; padding: 0px">
	<head>
		<title> Mario Clone </title>
		<meta charset="UTF-8">
	</head>
	<body style="margin: 0px; padding: 0px; overflow-x: hidden; position: relative; top:-30%">
		<canvas id="myCanvas" width="1000" height="500" style="border:1px solid #cccccc;"></canvas>

		<script src="./src/sprite.js"></script>
		<script src="./src/movable.js"></script>
		<script src="./src/mario.js"></script>
		<script src="./src/brick.js"></script>
		<script src="./src/coinblock.js"></script>
		<script src="./src/coin.js"></script>
		<script src="./src/model.js"></script>
		<script src="./src/view.js"></script>
		<script src="./src/controller.js"></script>
		<script src="./src/game.js"></script>

		<table>
			<tbody><tr><td>
				<select id="chatHistory" size="12" style="width:100%">
					<option>P1: ru red-e 2 chat</option>
					<option>P2: ya totes, im lik =:-O yadda</option>
					<option>P1: roflmho, im lik HAR!</option>
					<option>P2: loluih!!!!!!!!!!!!!!!!</option>
					<option>P1: uih? wut?</option>
					<option>P2: until it hurts</option>
					<option>P1: u can't just make up new brevs</option>
					<option>P1: confUUUUUUUzez me ~:?(</option>
				</select>
			</td></tr>
			<tr><td>
			<input type="text" size="50" id="user1">
			<button onclick="sendMessage()"> Send </button>
			</td></tr>
		</tbody></table>
		<script>
			setInterval(() => {
				httpPost("ajax_handler.html", JSON.stringify({
					action: "getMessages",
				}), (data) => {
					document.getElementById("chatHistory").innerHTML = Object.values(JSON.parse(data)).reduce((acc, cur) => `${acc}<option> p${cur.id}: ${cur.message} </option>`, "")
				});
			}, 100)
			function sendMessage() {
				httpPost("ajax_handler.html", JSON.stringify({
					action: "sendMessage",
					id: GameId,
					message: document.getElementById("user1").value
				}), () => {
					console.log("Message Sent");
				})
			}
		</script>
	</body>
</html>
